<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Game Details</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="game-detail-page">
  <div class="container">
    <img src="dmvs7.png" alt="Logo" class="site-logo" />
    <button id="back-button" onclick="goBack()">Kembali</button>
    
    <!-- Image appears first -->
    <img id="game-image" class="game-image" src="" alt="Game Image">

    <!-- Title now appears below image -->
    <h1 id="game-title" class="detail-title"></h1>

    <p><strong>Deskripsi:</strong> <span id="game-description"></span></p>
    <p><strong>Insentif:</strong></p>
    <ul id="game-rewards"></ul>
    <button id="request-play" class="play-button" onclick="submitForm()">Pilih permainan ini</button>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const gameId = params.get('id');

    fetch('data.json')
      .then((response) => response.json())
      .then((games) => {
        const game = games.find(g => g.id === gameId);
        if (game) {
          document.getElementById("game-title").textContent = game.title;
          document.getElementById("game-image").src = game.image;
          document.getElementById("game-description").textContent = game.description;
          const rewardsList = document.getElementById("game-rewards");
          game.rewards.forEach(reward => {
            const li = document.createElement('li');
            li.textContent = reward;
            rewardsList.appendChild(li);
          });
        }
      });

    function submitForm() {
      const formUrl = `https://docs.google.com/forms/d/e/1FAIpQLSeGccAmYmYspWKp9P4JfL5FSVsPMwR3DSF8-8dAKEcowVMHXg/viewform?usp=pp_url&entry.1065046570=${encodeURIComponent(gameId)}`;
      window.open(formUrl, '_blank');
    }

    function goBack() {
      window.history.back();
    }
  </script>
</body>
</html>
